###################
## CORE settings ##
###################

# Context
export ZOMBI_CONTEXT=development

# Artifact [su|pre]fixes
ARTIFACT_PREFIX=zombi-kvk
ARTIFACT_SUFIX=${ZOMBI_CONTEXT}

# Databases
export ZOMBI_DB_USER=postgres
export ZOMBI_DB_HOST=zombi-kvk-db-1.cyxavxqeyu89.us-west-2.rds.amazonaws.com
export ZOMBI_DB_PORT=5432
export ZOMBI_DB_PASS=EcE7q510N7DEctK4WfB0
export ZOMBI_DB_NAME=postgres
export ZOMBI_DB_TYPE=postgresql
export ZOMBI_DB_ENABLED=yes
export ZOMBI_DB_POOL_SIZE=12

export ZOMBI_DB_SCHEMA_LOCKED=false
export ZOMBI_DB_DEFAULT_NAME="default"

export ZOMBI_DB_MIGRATION_USER=postgres
export ZOMBI_DB_MIGRATION_HOST=localhost
export ZOMBI_DB_MIGRATION_PORT=5432
export ZOMBI_DB_MIGRATION_PASS=postgres
export ZOMBI_DB_MIGRATION_NAME=postgres
export ZOMBI_DB_MIGRATION_TYPE=postgresql
export ZOMBI_DB_MIGRATION_ENABLED=true
export ZOMBI_DB_MIGRATION_UNSAFE=true

# Cache
export ZOMBI_CACHE_HOST=master.zombi-kvk-cache-1.qclewu.usw2.cache.amazonaws.com
export ZOMBI_CACHE_PORT=6379
export ZOMBI_CACHE_PASS=EcE7q510N7DEctK4WfB0
export ZOMBI_CACHE_TLS=true

# Miscellaneous
export NODE_ENV=development
export ZOMBI_SERVER_TIMEOUT=20000
export ZOMBI_SERVER_SEND_ERROR_NOTIFICATIONS=no
export ZOMBI_SERVER_MAX_MEMORY_ALARM=80

export ZOMBI_SERVER_ENDPOINT='/server'
export ZOMBI_STORAGE_PATH='/mnt/zfs'

# Client
export ZOMBI_CLIENT_ENDPOINT="https://d1sjrbfhd1.execute-api.us-west-2.amazonaws.com/${ZOMBI_SERVER_ENDPOINT}"
export ZOMBI_CLIENT_QUEUE=${ARTIFACT_PREFIX}-queue-${ARTIFACT_SUFIX}

# Stats
export ZOMBI_STATS_ENABLED=true
export ZOMBI_STATS_MEMORY_CHECK_INTERVAL=60

# Logging
export ZOMBI_LOG_LEVEL=DEBUG
export ZOMBI_LOG_PERSIST_CACHE=true
export ZOMBI_LOG_PERSIST_FILES=true
export ZOMBI_LOG_SHOW_TIMESTAMP=no

# Security
export ZOMBI_AUTH_MODULE_ACCESS=false
export ZOMBI_HIDE_SERVER_ERRORS=false
export ZOMBI_AUTH_HEADER_KEY='z-internal-auth'
export ZOMBI_AUTH_HEADER_VALUE=9959axh6BSVbBvwsDFm47b3ca78pYbuK5yuR777d7ad
export ZOMBI_LOG_ARGUMENTS=true
export ZOMBI_THROTTLING_ENABLED=false
export ZOMBI_THROTTLING_LIMIT=100
export ZOMBI_TEST_USER_NAME=system
export ZOMBI_TEST_USER_PASSWORD=manager

# Reactor
export ZOMBI_AUTH_REACTOR_TOKEN=o3g5j3ca78dfdcazHIA1LEmYlGg7x7m8ylbuuvf
export ZOMBI_AUTH_REACTOR_ENABLED=no

# Notifications
export ZOMBI_NOTIFICATIONS_EMAIL_USER=zombidevelopment@gmail.com
export ZOMBI_NOTIFICATIONS_EMAIL_PASS=youdontknow
export ZOMBI_NOTIFICATIONS_EMAIL_URL='http://localhost:8080/login.html'

# Slack
export ZOMBI_SLACK_WEBHOOK_URL="https://hooks.slack.com/services/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"

# Firebase
export ZOMBI_FIREBASE_MESSAGING_URL='https://fcm.googleapis.com/fcm/send'
export ZOMBI_FIREBASE_MESSAGING_KEY='AAAAL5kRh0o:APA91bGSD9jpQtT4SPPM_eR76cbCDk7pdBpIgnFRyotTNCcChWJHBmJiZWgzOubVi3eFPK8c0fXd_CvV-PD57vrc7rDSG16gNzDPyMykiFKYJdgvlPevVuYUKCsuo4whCFhs9PMhTAwv'
export ZOMBI_FIREBASE_AUTH_CLIENT_ID='859183217737-a4vvo0ne9633lqd0emol5arua0r52ttd.apps.googleusercontent.com'

# Lambda
export ZOMBI_LAMBDA_NAME_MICROSERVER=${ARTIFACT_PREFIX}-microserver-${ARTIFACT_SUFIX}
export ZOMBI_LAMBDA_NAME_QUEUE=${ARTIFACT_PREFIX}-runqueue-${ARTIFACT_SUFIX}
export ZOMBI_LAMBDA_NAME_REACTOR=${ARTIFACT_PREFIX}-reactor-${ARTIFACT_SUFIX}
export ZOMBI_LAMBDA_NAME_WEBSOCKETS=${ARTIFACT_PREFIX}-websockets-${ARTIFACT_SUFIX}
export ZOMBI_LAMBDA_NAME_FILES=${ARTIFACT_PREFIX}-files-${ARTIFACT_SUFIX}
export ZOMBI_LAMBDA_NAME_HEALTHCHECK=${ARTIFACT_PREFIX}-healthcheck-${ARTIFACT_SUFIX}

####################
## Infrastructure ##
####################

# AWS settings

# Configuration precedence is: Command line options, Environment variables, CLI credentials file (~/.aws/credentials)
export AWS_DEFAULT_REGION=us-west-2
export AWS_DEFAULT_ACCOUNT=306027853247
export AWS_DEFAULT_OUTPUT=json
export AWS_PAGER=""

# VPC dependant
export AWS_CONFIG_FILESYSTEM_MOUNT_TARGET_SN1=subnet-057f29aec6b05098d
export AWS_CONFIG_FILESYSTEM_MOUNT_TARGET_SN2=subnet-002940d3c81082692
export AWS_CONFIG_FILESYSTEM_MOUNT_TARGET_SN3=subnet-0c834dd0956350a53
export AWS_CONFIG_FILESYSTEM_MOUNT_TARGET_SN4=subnet-07409156ebf9560ad
export AWS_CONFIG_FILESYSTEM_MOUNT_TARGET_SG1=sg-01f70af8e0fad6c22
export AWS_CONFIG_VPC_STRING=SubnetIds=subnet-057f29aec6b05098d,subnet-002940d3c81082692,subnet-0c834dd0956350a53,subnet-07409156ebf9560ad,SecurityGroupIds=sg-01f70af8e0fad6c22

# Artifact names
export AWS_CONFIG_EXECUTE_ROLE_NAME=${ARTIFACT_PREFIX}-lambda-execution-role-${ARTIFACT_SUFIX}
export AWS_CONFIG_DEPLOY_ROLE_NAME=${ARTIFACT_PREFIX}-lambda-deploy-role-${ARTIFACT_SUFIX}

export AWS_CONFIG_POLICY_NAME=${ARTIFACT_PREFIX}-lambda-execution-policy_${ARTIFACT_SUFIX}

export AWS_CONFIG_APIGW_NAME=${ARTIFACT_PREFIX}-http-gateway-${ARTIFACT_SUFIX}
export AWS_CONFIG_WSGW_NAME=${ARTIFACT_PREFIX}-ws-gateway-${ARTIFACT_SUFIX}

export AWS_CONFIG_CACHE_NAME=${ARTIFACT_PREFIX}-cache-${ARTIFACT_SUFIX}

export AWS_CONFIG_EVENTS_DAILY_NAME=${ARTIFACT_PREFIX}-events-daily-${ARTIFACT_SUFIX}
export AWS_CONFIG_EVENTS_HOURLY_NAME=${ARTIFACT_PREFIX}-events-hourly-${ARTIFACT_SUFIX}
export AWS_CONFIG_EVENTS_EVERY10MINS_NAME=${ARTIFACT_PREFIX}-events-every10mins-${ARTIFACT_SUFIX}

export AWS_CONFIG_FILESYSTEM_NAME=${ARTIFACT_PREFIX}-lambda-filesystem-${ARTIFACT_SUFIX}
export AWS_CONFIG_FILESYSTEM_AP_NAME=${ARTIFACT_PREFIX}-lambda-accesspoint-${ARTIFACT_SUFIX}
export AWS_CONFIG_FILESYSTEM_TOKEN=${ARTIFACT_PREFIX}-lambda-filesystem-${ARTIFACT_SUFIX}

export AWS_CONFIG_CODE_BUCKET_NAME=${ARTIFACT_PREFIX}-lambda-code-${ARTIFACT_SUFIX}
export AWS_CONFIG_DOCS_BUCKET_NAME=${ARTIFACT_PREFIX}-lambda-docs-${ARTIFACT_SUFIX}
export AWS_CONFIG_FILES_BUCKET_NAME=${ARTIFACT_PREFIX}-lambda-files-${ARTIFACT_SUFIX}

# Miscellaneous
export AWS_CONFIG_NODE_RUNTIME="nodejs14.x"


#####################
## Deploy settings ##
#####################
# This credentials are used for the CI to deploy the lambdas
#export AWS_ACCESS_KEY_ID=AKIA3CF4FD2ITOXBGSMZ
#export AWS_SECRET_ACCESS_KEY=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

##################
## APP settings ##
##################
